<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>MMCC3045</title>
		<link href="Index.css" rel="stylesheet" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="https://mmcc.mq.edu.au/mmcc3045/resources/week5/jquery-ui.js"></script>
		<script src="inventory.js"></script>
		<script>
			$(document).ready(function() { 
				checkInventory();
				checkCollection();
				$('#stage').hide().fadeIn(500);
				$('img#bag').click(function() {
				 	if( $('#inventory').css('display')=='none' ) {
				 		$('#baga').get(0).play();
				 		$('#inventory').slideDown(1000)
				 	} else {
				 		$('#inventory').slideUp(1000)
				 	}
				 })
				 $('img#inventorybook').click(function() {
				 	if( $('#collectionbook').css('display')=='none' ) {
				 		$('#booka').get(0).play();
				 		$('#collectionbook').slideDown(800)
				 	} else {
				 		 $('#collectionbook').slideUp(800)
				 	}
				 })
				$('#debbiecat').click(function() {
					$('#meow').get(0).play();
				})
				$('#draw').click(function() {
					$('#click2').get(0).play();
					$('#output').text("It's locked, I can't even remember what I put in there...")
				})
				$('.clickable').click(function() {
					$(this).fadeOut('fast');
					var itemName = $(this).attr('id');
					localStorage.setItem(itemName, 'true');
				})
				$('#collegeletter').click(function() {
					$('#click2').get(0).play();
					$('#output').text("This isn't my letter of acceptance, it's for Waylen, What's it doing here?")
				})
				$( "#inv-silverkey" ).draggable({ revert: "invalid", containment: "inventory" });
				$('#draw').droppable({
				 	drop: function(event,ui) {
				 		var item = ui.draggable.attr('id');
				 		$('img').draggable({disabled: true});
				 		if(item=="inv-silverkey"){
				 			$('#door').get(0).play();
				 			$('#'+item).fadeOut(1000, function() {
				 				localStorage.setItem('userChoice', item);
				 				window.location = 'weddingring.html';
				 			});
				 		}
						 		
					}
				})
			});
		</script>
	</head>
	<body>
		<div id="stage">
			<img src="images/debbiebedroom.png" id="debbiebedroombg">
			<img src="images/anothercat.png" id="debbiecat">
			<div id="draw"></div>
			<img src="images/collegeletter.png" id="collegeletter" class="clickable">
			<button class="button" role="button" id="laundryroombutton" onclick="window.location = 'laundryroom.html'"> Laundry room </button>
			<img src="images/debbie.png" id="debbie">
			<div id="inventory">
				<div class="items">
					<img src="images/cupboardkey.png" id="inv-cupboardkey">
					<img src="images/silverkey.png" id="inv-silverkey">
					<img src="images/batteries.png" id="inv-batteries">
					<img src="images/tape.png" id="inv-tape">
				</div>
			</div>
			<div id="collectionbook">
				<div class="items">
					<!-- Frank -->
					<img src="images/polaroid.png" id="col-polaroid">
					<img src="images/nokiaon.png" id="col-nokiaon">
					<img src="images/recordplayer.png" id="col-recordplayer">
					<!-- Esther -->
					<img src="images/lunchbox.png" id="col-lunchbox">
					<img src="images/jewellerybox.png" id="col-jewellerybox">
					<img src="images/weddingring.png" id="col-weddingring">
					<!-- Waylen -->
					<img src="images/controller.png" id="col-controller">
					<img src="images/collegeletter.png" id="col-collegeletter">
					<img src="images/debbieletter.png" id="col-debbieletter">
					<!-- Lyla -->
					<img src="images/sneakers.png" id="col-sneakers">
					<img src="images/lgbtqflag.png" id="col-lgbtqflag">
					<img src="images/lyladiary.png" id="col-lyladiary">
				</div>
			</div>
			<div id="output"> Mum still kept my room the same, I'm suprised, I mean its only been 6 months but still... </div>
			<img src="images/bag.png" id="bag">
			<img src="images/inventorybook.png" id="inventorybook">
			<audio id="meow">
				<source src="sounds/meow.wav">
			</audio>
			<audio id="booka">
				<source src="sounds/booka.wav">
			</audio>
			<audio id="baga">
				<source src="sounds/baga.wav">
			</audio>
			<audio id="click2">
	 			<source src="sounds/click2.wav">
			</audio>
			<audio id="door">
	 			<source src="sounds/door.wav">
			</audio>

		</div>
	</body>
	<div id="audiocontrols">
		<audio controls autoplay loop="true" id="ambience">
	 		<source src="sounds/ambience.mp3">
		</audio>
	</div>
</html>